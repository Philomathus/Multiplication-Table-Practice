<!DOCTYPE html>
<html>
<head>
	<title>Multiplication Table</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* {
	box-sizing: border-box;
}

body {
	font-family: Verdana, Helvetica, Arial;
	display: flex;
	justify-content: center;
	align-items: center;
	height: 90vh;
	text-align: center;
	font-size: 3em;
	positive: relative;
}

#main {
	width: 90vw;
	margin: auto;
}

#left-hand-side {
	margin-bottom: 16px;
	font-size: 1.2em;
}

@keyframes pulse {
	from { transform: scale(1); }
	to { transform: scale(1.05); }
}

#right-hand-side {
	font-size: inherit;
	text-align: inherit;
	display: block;
	width: 50vw;
	max-width: 200px;
	margin: auto;
	margin-bottom: 17px;
	border-radius: 20px;
	border-width: 7px;
	animation: pulse 1.5s ease-out 0s infinite alternate-reverse;
}

#right-hand-side:focus, #right-hand-side:hover, #summary>button:hover, #summary>button:focus {
	animation-play-state: paused;
	outline: none;
}

button {
	font-size: 0.9em;
	border: 0;
	border-radius: 20px;
	background: black;
	color: white;
	padding: 10px;
}

#num-correct {
	color: green;
}

#num-wrong {
	color: red;
}

#num-correct, #num-wrong, #num-total {
	font-size: 0.6em;
	margin-top: 18px;
	margin-bottom: 0;
}

#finishButton {
	font-size: 0.6em;
	margin-top: 17px;
	margin-bottom: 55px;
}

.hidden {
	display: none !Important;
}

#summary>button {
	animation: pulse 1.5s ease-out 0s infinite alternate-reverse;
}

/* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}

/*particle css animation Bekah McDonald*/

#particle-container {
	position: absolute; 
	overflow: hidden; 
	height: 100vh; 
	width: 100vw; 
	z-index: -1;
}

.particle {
  border-radius: 50%;
  background-color: #8f8f8f;
  font-size: 0;
  position: absolute;
}

.particle:nth-child(1) {
  filter: blur(3px);
  left: 60vw;
  top: 35vh;
  height: 30px;
  width: 30px;
  animation: particle-1 24s linear both infinite -28s;
}

@keyframes particle-1 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(-8vw, -66vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(2) {
  filter: blur(3px);
  left: 85vw;
  top: 51vh;
  height: 12px;
  width: 12px;
  animation: particle-2 25s linear both infinite -28s;
}

@keyframes particle-2 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(34vw, -65vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(3) {
  filter: blur(2px);
  left: 81vw;
  top: 49vh;
  height: 22px;
  width: 22px;
  animation: particle-3 23s linear both infinite -14s;
}

@keyframes particle-3 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(20vw, -27vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(4) {
  filter: blur(6px);
  left: 33vw;
  top: 13vh;
  height: 24px;
  width: 24px;
  animation: particle-4 25s linear both infinite -7s;
}

@keyframes particle-4 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(7vw, -41vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(5) {
  filter: blur(4px);
  left: 73vw;
  top: 19vh;
  height: 16px;
  width: 16px;
  animation: particle-5 25s linear both infinite -21s;
}

@keyframes particle-5 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(35vw, -39vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(6) {
  filter: blur(2px);
  left: 36vw;
  top: 91vh;
  height: 22px;
  width: 22px;
  animation: particle-6 22s linear both infinite -14s;
}

@keyframes particle-6 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(35vw, -57vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(7) {
  filter: blur(5px);
  left: 13vw;
  top: 88vh;
  height: 16px;
  width: 16px;
  animation: particle-7 23s linear both infinite -28s;
}

@keyframes particle-7 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(18vw, -64vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(8) {
  filter: blur(5px);
  left: 42vw;
  top: 79vh;
  height: 30px;
  width: 30px;
  animation: particle-8 24s linear both infinite -35s;
}

@keyframes particle-8 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(23vw, -62vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(9) {
  filter: blur(5px);
  left: 98vw;
  top: 54vh;
  height: 14px;
  width: 14px;
  animation: particle-9 21s linear both infinite -28s;
}

@keyframes particle-9 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(32vw, -34vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}
.particle:nth-child(10) {
  filter: blur(5px);
  left: 28vw;
  top: 100vh;
  height: 26px;
  width: 26px;
  animation: particle-10 25s linear both infinite -28s;
}

@keyframes particle-10 {
  0% {
    opacity: 0;
    transform: translate(0, 0);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0;
  }
  99.9% {
    transform: translate(27vw, -42vw);
  }
  100% {
    opacity: 0;
    transform: translate(0, 0);
  }
}

</style>
</head>
<body>

	<div id="main">
		<div id="interface">
			<p id="left-hand-side"></p>
			<input id="right-hand-side" type="number" min="1" step="1" required/>
			<button onclick="check()">Check</button>
		</div>

		<p id="num-correct">Correct: 0</p>
		<p id="num-wrong">Wrong: 0</p>
		<p id="num-total">Total: 0</p>
		<button id="finishButton" onclick="summarize()">Finish</button>

		<div id="summary" class="hidden">
			<p>100% Accuracy</p>
			<button onclick="location.reload()">Play Again</button>
		</div>
		
	</div>

	<div id="particle-container">
		<div class="particle">0</div>
  		<div class="particle">1</div>
  		<div class="particle">2</div>
  		<div class="particle">3</div>
  		<div class="particle">4</div>
  		<div class="particle">5</div>
  		<div class="particle">6</div>
  		<div class="particle">7</div>
  		<div class="particle">8</div>
  		<div class="particle">9</div>
  		<div class="particle">10</div>
	</div>

<audio id="correct-sfx">
	<source src="correct_sound_effect.mp3" type="audio/mpeg">
</audio>

<audio id="complete-sfx">
	<source src="complete_sound_effect.mp3" type="audio/mpeg">
</audio>

<audio id="background-music" autoplay loop>
	<source src="background_music.mp3" type="audio/mpeg">
</audio>

<script>
	var leftHandSide = document.getElementById("left-hand-side"),
		rightHandSide = document.getElementById("right-hand-side"),
		textNumCorrect = document.getElementById("num-correct"),
		textNumWrong = document.getElementById("num-wrong"),
		textNumTotal = document.getElementById("num-total"),
		correctSfx = document.getElementById("correct-sfx"),
		completeSfx = document.getElementById("complete-sfx"),
		backgroundMusic = document.getElementById("background-music"),
		min = 2, max = 10,
		multiplicand, 
		multiplier, 
		product, 
		numCorrect = 0,
		numWrong = 0,
		numQuestions = 0;

	correctSfx.volume = 0.3;
	backgroundMusic.volume = 0.25;

	function randomIntFromRange(min, max) {
		return Math.round(min+Math.random()*(max-min));
	}	

	function generateNextQuestion() {			

		multiplicand = randomIntFromRange(min, max);
		multiplier = randomIntFromRange(min, max);
		product = multiplicand * multiplier;

		leftHandSide.innerText = multiplicand + " Ã— " + multiplier;
	}

	function check() {
		rightHandSide.focus();

		if(rightHandSide.value == "")
			return;
		
		if(rightHandSide.value == product) {
			numCorrect++;
			textNumCorrect.innerText = "Correct: " + numCorrect;
			correctSfx.load();
			correctSfx.play();
		} else {
			numWrong++;
			textNumWrong.innerText = "Wrong: " + numWrong;
			alert("The correct answer is " + product + "!");
		}

		numQuestions++;
		textNumTotal.innerText = "Total: " + numQuestions;

		rightHandSide.value = "";
		generateNextQuestion();		
	}
	
	function summarize() {
		if(numQuestions == 0) {
			alert("You haven't answered a single question!");
			return;
		}

		var interface = document.getElementById("interface"),
			summary = document.getElementById("summary"),
			finishButton = document.getElementById("finishButton");
		

		summary.className = "";		
		interface.className = "hidden";
		finishButton.className = "hidden";

		summary.querySelector("p").innerText = 100*numCorrect/numQuestions + "% Accuracy";
		completeSfx.play();
	}

	document.addEventListener("click", function(event) {
  		backgroundMusic.play();
	});

	rightHandSide.addEventListener("keyup", function(event) {
  		if (event.keyCode === 13) // Enter = 13
    			check();
	});

	generateNextQuestion();

</script>
</body>
</html>
